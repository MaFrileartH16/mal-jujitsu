import{u as f,j as e,r as y,O as m}from"./app-DN9_gzYd.js";import{m as _,q as g,P as v,r as z,o as A,s as N,b as w,G as b,S as T,k as C,F as L,T as S,a as D,A as O,B,g as F}from"./AppLayout-PfUEuSbw.js";import{B as G}from"./Breadcrumbs-DcIMFZ2R.js";import{I as W,T as o,a as k,b as $}from"./Table-CHL3rbco.js";import{I as q,a as U}from"./IconTrash-nQIpwdSG.js";import{T as H}from"./TextInput-DGxW6fZg.js";import{I as P}from"./IconSearch-Baa8rLBn.js";import"./Title-DYxjYiRb.js";import"./ScrollArea-CdgOV-zf.js";const[J,E]=_("HoverCard component was not found in the tree"),K={};function I(t){const{children:d,onMouseEnter:r,onMouseLeave:c,...i}=f("HoverCardDropdown",K,t),n=E(),l=g(r,n.openDropdown),p=g(c,n.closeDropdown);return e.jsx(v.Dropdown,{onMouseEnter:l,onMouseLeave:p,...i,children:d})}I.displayName="@mantine/core/HoverCardDropdown";const Q={refProp:"ref"},M=y.forwardRef((t,d)=>{const{children:r,refProp:c,eventPropsWrapperName:i,...n}=f("HoverCardTarget",Q,t);if(!z(r))throw new Error("HoverCard.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const l=E(),p=g(r.props.onMouseEnter,l.openDropdown),x=g(r.props.onMouseLeave,l.closeDropdown),u={onMouseEnter:p,onMouseLeave:x};return e.jsx(v.Target,{refProp:c,ref:d,...n,children:y.cloneElement(r,i?{[i]:u}:u)})});M.displayName="@mantine/core/HoverCardTarget";const V={openDelay:0,closeDelay:150,initiallyOpened:!1};function h(t){const{children:d,onOpen:r,onClose:c,openDelay:i,closeDelay:n,initiallyOpened:l,...p}=f("HoverCard",V,t),[x,{open:u,close:a}]=A(l,{onClose:c,onOpen:r}),{openDropdown:j,closeDropdown:s}=N({open:u,close:a,openDelay:i,closeDelay:n});return e.jsx(J,{value:{openDropdown:j,closeDropdown:s},children:e.jsx(v,{...p,opened:x,__staticSelector:"HoverCard",children:d})})}h.displayName="@mantine/core/HoverCard";h.Target=M;h.Dropdown=I;h.extend=t=>t;const ne=t=>{const[d,r]=y.useState(""),c=[{title:"#"},{title:"Nama",key:"name"},{title:"Tempat",key:"place"},{title:"Atlet"},{title:"Pelatih",key:"coach.full_name"},{title:"Tanggal",key:"date"},{title:"Waktu Mulai",key:"start_time"},{title:"Waktu Selesai",key:"end_time"},{title:"Aksi"}],i=[{label:"Rincian Latihan",icon:e.jsx(W,{}),onClick:a=>m.get(route("exercises.show",a.id)),color:"blue"},{label:"Ubah Latihan",icon:e.jsx(q,{}),onClick:a=>m.get(route("exercises.edit",a.id)),color:"yellow",disabled:!t.auth.user.role.includes("Pelatih")},{label:"Hapus Latihan",icon:e.jsx(U,{}),onClick:a=>m.delete(route("exercises.destroy",a.id)),color:"red",disabled:!t.auth.user.role.includes("Pelatih")}],n=t.exercises.filter(a=>a.name.toLowerCase().includes(d.toLowerCase())),[l,p]=y.useState(n),x=l.map((a,j)=>e.jsxs(o.Tr,{h:64,children:[e.jsx(o.Td,{px:16,py:0,style:{whiteSpace:"nowrap"},children:j+1}),e.jsx(o.Td,{px:16,py:0,style:{whiteSpace:"nowrap"},children:a.name}),e.jsx(o.Td,{px:16,py:0,style:{whiteSpace:"nowrap"},children:a.place}),e.jsx(o.Td,{px:16,py:0,style:{whiteSpace:"nowrap"},children:e.jsx(w.Group,{spacing:24,h:48,children:a.athletes.map(s=>e.jsxs(h,{withArrow:!0,shadow:"xl",children:[e.jsx(h.Target,{children:e.jsx(w,{size:52,src:s.avatar,radius:32})}),e.jsx(h.Dropdown,{style:{borderRadius:32},p:16,children:e.jsxs(b,{children:[e.jsx(w,{size:80,src:s.avatar,radius:160}),e.jsxs(T,{gap:5,children:[e.jsx(C,{size:"sm",fw:600,children:s.full_name}),e.jsx(C,{size:"sm",c:"dimmed",children:s.role})]})]})})]},s.id))})}),e.jsx(o.Td,{px:16,py:0,style:{whiteSpace:"nowrap"},children:e.jsxs(L,{gap:16,align:"center",children:[e.jsx(w,{size:48,src:a.coach.avatar}),a.coach.full_name," (",a.coach.role,")"]})}),e.jsx(o.Td,{px:16,py:0,style:{whiteSpace:"nowrap"},children:new Date(a.date).toLocaleDateString("id").split("/").join("-")}),e.jsx(o.Td,{px:16,py:0,style:{whiteSpace:"nowrap"},children:a.start_time.split(":").join(".")}),e.jsx(o.Td,{px:16,py:0,style:{whiteSpace:"nowrap"},children:a.end_time.split(":").join(".")}),e.jsx(o.Td,{px:16,py:0,style:{whiteSpace:"nowrap"},children:e.jsx(L,{gap:8,style:{whiteSpace:"nowrap"},children:i.map((s,R)=>e.jsx(S,{label:s.label,style:{borderRadius:32,padding:".5rem 1rem"},children:e.jsx(D,{size:48,radius:32,variant:"subtle","aria-label":s.label,color:s.color,onClick:()=>s.onClick(a),disabled:s.disabled,children:s.icon})},R))})})]},j)),u=a=>{p(a)};return e.jsxs(O,{title:"Latihan",authed:t.auth.user,meta:t.meta,unreadHistories:t.total_unread_histories,children:[e.jsxs(T,{mb:32,children:[e.jsxs(b,{w:"100%",justify:"space-between",children:[e.jsx(G,{navList:[{label:"Latihan",totalData:t.exercises.length}]}),e.jsxs(b,{children:[e.jsx(H,{display:{base:"none",xs:"block"},w:240,variant:"filled",leftSection:e.jsx(P,{}),styles:{input:{height:48,borderRadius:32,paddingLeft:50,paddingRight:14},section:{marginLeft:0,width:48,height:48}},color:"gold.2",placeholder:"Cari latihan...",onChange:a=>r(a.target.value)}),t.auth.user.role.includes("Pelatih")&&e.jsxs(e.Fragment,{children:[e.jsx(S,{style:{borderRadius:32,padding:".5rem 1rem"},label:"Tambah Latihan",children:e.jsx(D,{ml:"auto",h:48,w:48,color:"gold.2",radius:32,display:{base:"block",sm:"none"},onClick:()=>m.get(route("exercises.create")),children:e.jsx(k,{})})}),e.jsx(B,{display:{base:"none",sm:"block"},w:240,leftSection:e.jsx(k,{}),variant:"filled",color:"gold.2",h:48,radius:32,px:16,styles:{section:{marginRight:12}},onClick:()=>m.get(route("exercises.create")),children:"Tambah Latihan"})]})]})]}),e.jsx(H,{w:"100%",display:{base:"block",xs:"none"},variant:"filled",leftSection:e.jsx(P,{}),styles:{input:{height:48,borderRadius:32,paddingLeft:50,paddingRight:14},section:{marginLeft:0,width:48,height:48}},color:"gold.2",placeholder:"Cari atlet...",onChange:a=>r(a.target.value)})]}),e.jsx($,{thList:c,tdList:x,icon:e.jsx(F,{size:48}),title:"Latihan",route:"exercises.create",authed:t.auth.user,data:n,handleSort:u})]})};export{ne as default};
