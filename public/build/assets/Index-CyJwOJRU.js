import{r as S,j as e,O as r}from"./app-opL4tPRS.js";import{b as l,G as n,S as h,k as p,F as L,T as x,a as u,A as v,B as k,i as C}from"./AppLayout-BBXMtu6L.js";import{B as R}from"./Breadcrumbs-HzMZe2ql.js";import{T as i,a as m,b as A,I}from"./Table-ERm7-3kp.js";import{H as o}from"./HoverCard-DVTUvzkF.js";import{T as j}from"./TextInput-CacUwhst.js";import{I as g}from"./IconSearch-DGL0fFTj.js";import"./Title-CVf4nZny.js";import"./ScrollArea-BUvcNB0c.js";import"./InputBase-CoADICdG.js";const M=t=>{const[d,w]=S.useState(""),b=["#","Nama Latihan","Tempat","Tanggal","Waktu Mulai","Waktu Selesai","Atlet","Aksi"],y=[{label:"Daftar Atlet",icon:e.jsx(I,{}),onClick:a=>r.get(route("evaluations.users.index",a)),color:"blue"}],T=t.evaluations.filter(a=>a.name.toLowerCase().includes(d.toLowerCase())).map((a,c)=>e.jsxs(i.Tr,{h:64,children:[e.jsx(i.Td,{px:16,py:0,style:{whiteSpace:"nowrap"},children:c+1}),e.jsx(i.Td,{px:16,py:0,style:{whiteSpace:"nowrap"},children:a.name}),e.jsx(i.Td,{px:16,py:0,style:{whiteSpace:"nowrap"},children:a.place}),e.jsx(i.Td,{px:16,py:0,style:{whiteSpace:"nowrap"},children:new Date(a.date).toLocaleDateString("id").split("/").join("-")}),e.jsx(i.Td,{px:16,py:0,style:{whiteSpace:"nowrap"},children:a.start_time.split(":").join(".")}),e.jsx(i.Td,{px:16,py:0,style:{whiteSpace:"nowrap"},children:a.end_time.split(":").join(".")}),e.jsx(i.Td,{px:16,py:0,style:{whiteSpace:"nowrap"},children:e.jsx(l.Group,{spacing:24,h:48,children:a.athletes.map(s=>e.jsxs(o,{withArrow:!0,shadow:"xl",children:[e.jsx(o.Target,{children:e.jsx(l,{size:52,src:s.avatar,radius:32})}),e.jsx(o.Dropdown,{style:{borderRadius:32},p:16,children:e.jsxs(n,{children:[e.jsx(l,{size:80,src:s.avatar,radius:160}),e.jsxs(h,{gap:5,children:[e.jsx(p,{size:"sm",fw:600,children:s.full_name}),e.jsx(p,{size:"sm",c:"dimmed",children:s.role})]})]})})]},s.id))})}),e.jsx(i.Td,{px:16,py:0,style:{whiteSpace:"nowrap"},children:e.jsx(L,{gap:8,style:{whiteSpace:"nowrap"},children:y.map((s,f)=>e.jsx(x,{label:s.label,style:{borderRadius:32,padding:".5rem 1rem"},children:e.jsx(u,{size:48,radius:32,variant:"subtle","aria-label":s.label,color:s.color,onClick:()=>s.onClick(a),disabled:s.disabled,children:s.icon})},f))})})]},c));return e.jsxs(v,{title:"Penilaian",authed:t.auth.user,meta:t.meta,unreadHistories:t.total_unread_histories,children:[e.jsxs(h,{mb:32,children:[e.jsxs(n,{w:"100%",justify:"space-between",children:[e.jsx(R,{navList:[{label:"Penilaian",totalData:t.evaluations.length}]}),e.jsxs(n,{children:[e.jsx(j,{display:{base:"none",xs:"block"},w:240,variant:"filled",leftSection:e.jsx(g,{}),styles:{input:{height:48,borderRadius:32,paddingLeft:50,paddingRight:14},section:{marginLeft:0,width:48,height:48}},color:"gold.2",placeholder:"Cari latihan...",onChange:a=>w(a.target.value)}),t.auth.user.role.includes("Pelatih")&&e.jsxs(e.Fragment,{children:[e.jsx(x,{style:{borderRadius:32,padding:".5rem 1rem"},label:"Tambah Penilaian",children:e.jsx(u,{ml:"auto",h:48,w:48,color:"gold.2",radius:32,display:{base:"block",sm:"none"},onClick:()=>r.get(route("evaluations.create")),children:e.jsx(m,{})})}),e.jsx(k,{display:{base:"none",sm:"block"},w:240,leftSection:e.jsx(m,{}),variant:"filled",color:"gold.2",h:48,radius:32,px:16,styles:{section:{marginRight:12}},onClick:()=>r.get(route("evaluations.create")),children:"Tambah Penilaian"})]})]})]}),e.jsx(j,{w:"100%",display:{base:"block",xs:"none"},variant:"filled",leftSection:e.jsx(g,{}),styles:{input:{height:48,borderRadius:32,paddingLeft:50,paddingRight:14},section:{marginLeft:0,width:48,height:48}},color:"gold.2",placeholder:"Cari atlet...",onChange:a=>d(a.target.value)})]}),e.jsx(A,{thList:b,tdList:T,icon:e.jsx(C,{size:48}),title:"Penilaian",route:"evaluations.create",authed:t.auth.user})]})};export{M as default};
